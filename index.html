<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ì›Œë…¸êµ¬ ì‹œì°¸ ë°˜ì† í…ŒìŠ¤íŠ¸</title>
  <style>
    body {
      background-color: black;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    img {
      display: none;
      position: absolute;
      cursor: pointer;
    }
    #startImage {
      display: block;
    }
    img.fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: 10;
    }
  </style>
</head>
<body>

  <!-- ì‹œì‘ ë²„íŠ¼ -->
  <img id="startImage" src="startbutton.png" alt="Start" width="200" />

  <!-- ë°˜ì‘ ë²„íŠ¼ -->
  <img id="reactionButton" src="lol.png" alt="React" width="200" />

  <!-- ì„±ê³µ/ì‹¤íŒ¨ ì´ë¯¸ì§€ -->
  <img id="successImage" class="fullscreen" src="success.png" alt="Success" />
  <img id="failImage" class="fullscreen" src="fail.png" alt="Fail" />

  <!-- ì‚¬ìš´ë“œ -->
  <audio id="cueSound" src="sound.mp3"></audio>
  <audio id="failSound" src="fail.mp3"></audio>
  <audio id="successSound" src="success.mp3"></audio>

  <script>
    const startImage = document.getElementById('startImage');
    const reactionButton = document.getElementById('reactionButton');
    const successImage = document.getElementById('successImage');
    const failImage = document.getElementById('failImage');
    const cueSound = document.getElementById('cueSound');
    const successSound = document.getElementById('successSound');
    const failSound = document.getElementById('failSound');

    // ì‹¤íŒ¨ ë©˜íŠ¸ ë¦¬ìŠ¤íŠ¸
    const failMessages = [
      "Tip.ê·¸ê±° ì•„ì„¸ìš”? 5000ì›ì´ë©´ ìƒˆì¹˜ê¸°ë¥¼ í•  ìˆ˜ ìˆë‹µë‹ˆë‹¤.",
      "Tip.ë‹¹ì‹ ì˜ ì‹¤íŒ¨ê°€ ë” ë‚˜ì€ ì„ íƒì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ë‹¤í¬ì›Œë…¸ì¼ë•Œ)",
      "Tip.ã…‹ã…‹ ì•„ì‰½ë‹¤. í™”ì´íŒ…~",
      "Tip.ì¸ê°„ì˜ ì•ˆêµ¬ í¬ê¸°ëŠ” 3ì„¸ ì´í›„ë¡œëŠ” ê±°ì˜ ìë¼ì§€ ì•ŠëŠ”ë‹¤.",
      "Tip.ì¹¼ë°”ëŒì€ ìƒˆì¹˜ê¸°ê°€ 3000ì›",
      "Tip.ì§€ë‚œ 4000ë…„ ë™ì•ˆ ìƒˆë¡œ ê°€ì¶•í™” ëœ ë™ë¬¼ì€ ì—†ë‹¤.",
      "Tip.116ì‚´ê¹Œì§€ ì‚´ ê°€ëŠ¥ì„±ì€ 20ì–µë¶„ì˜ 1",
      "Tip.ê°œêµ¬ë¦¬ë¥¼ ìš°ì£¼ë¡œ ë°ë ¤ê°€ë©´ ì´ìƒí•œ í–‰ë™ì„ ë³´ì¸ë‹¤.",
      "Tip.íƒ€ì¡°ì˜ ì•ˆêµ¬ëŠ” ë‡Œë³´ë‹¤ í¬ë‹¤.",
      "Tip.ìƒˆë¥¼ ìš°ì£¼ë¡œ ë³´ë‚´ë©´ ì£½ëŠ”ë‹¤.",
      "Tip.íŒŒë¼ê³¼ì´ì—ì„œëŠ” ë‘˜ ë‹¤ í—Œí˜ˆ ì œê³µìë¡œ ë“±ë¡ë˜ì–´ ìˆìœ¼ë©´ ê²°íˆ¬ê°€ í•©ë²•ì´ë‹¤.",
      "Tip.ë¼ì§€ëŠ” ë˜‘ë˜‘í•˜ë‹¤...ê¹€ì€ë³„?!",
      "Tip.ì„¸ê³„ì—ì„œ ê°œë¯¸ê°€ ì—†ëŠ” ë•…ì€ ì•„ì´ìŠ¬ë€ë“œ, ë‚¨ê·¹, ê·¸ë¦°ë€ë“œë¿ì´ë‹¤.",
      "Tip.ëŒ€ë¶€ë¶„ì˜ ë¦½ìŠ¤í‹± ì„±ë¶„ì— ë¬¼ê³ ê¸° ë¹„ëŠ˜ì´ ë“¤ì–´ìˆë‹¤.",
      "Tip.ì¸ê°„ì´ ì¼ìƒë™ì•ˆ í‚¤ìš°ëŠ” ë¨¸ë¦¬ì¹´ë½ ì´ê¸¸ì´ëŠ” í‰ê· ì ìœ¼ë¡œ 950kmì´ë‹¤.",
      "Tip.ë‚¨ìì˜ ê²½ìš° í‚¤ê°€ ì‘ì€ ì‚¬ëŒì´ ì¢€ ë” ì˜¤ë˜ì‚°ë‹¤.",
      "Tip.ê³¤ì¶©ë„ ì„±ê²©ì´ ìˆë‹¤.",
      "Tip.ì¸ê°„ì€ ë‘ë ¤ì›€ê³¼ ìœ„ê¸°ë¥¼ ëŠë¼ë©´ ì‹œë ¥ì´ ì¢‹ì•„ì§„ë‹¤.",
      "Tip.ìš°ì£¼ì— ê°€ë©´ í‚¤ê°€ ì»¤ì§„ë‹¤.",
      "Tip.ì¸ê°„ì€ í‰ê· ì ìœ¼ë¡œ í•˜ë£¨ì— í’ì„  í•˜ë‚˜ë¶„ì˜ ë°©ê·€ë¥¼ ë§Œë“ ë‹¤.",
      "Tip.í•˜ë£¨ì— ëˆˆì•Œ ì›€ì§ì´ëŠ” íšŸìˆ˜ëŠ” 10ë§Œ ì´ìƒì´ë‹¤.",
      "Tip.ê³ ì–‘ì´ ì˜¤ì¤Œì€ uvë¼ì´íŠ¸ë¡œ ë¹„ì¶”ë©´ ë¹›ì´ ë‚œë‹¤.",
      "Tip.ì—­ì‚¬ìƒ ê°€ì¥ ì˜¤ë˜ëœ ì¡°ë¦¬ë²•ì€ ë§¥ì£¼ ì œì¡°ë²•ì´ë‹¤.",
      "Tip.ì¼€ì±±ì€ ì›ë˜ ì•½ì´ì—ˆë‹¤.",
      "Tip.í”„ë§ê¸€ìŠ¤ëŠ” ê³µì‹ì ìœ¼ë¡œ ê°ìì¹©ì´ ì•„ë‹ˆë‹¤.",
      "Tip.ë‹¹ê·¼ì€ ëŒ€ë¶€ë¶„ ë³´ë¼ìƒ‰ì´ì—ˆë‹¤.",
      "Tip.ë°”ë‹ë¼í–¥ì€ ì¤‘ë…ì„±ì´ ìˆë‹¤.",
      "Tip.111,111,111 ê³±í•˜ê¸° 111,111,111ì€ 12,345,678,987,654,321",
    ];

    function getRandomFailMessage() {
      return failMessages[Math.floor(Math.random() * failMessages.length)];
    }

    let startTime = 0;
    let isWaitingForReaction = false; // ë²„íŠ¼ì´ í™”ë©´ì— ë³´ì´ëŠ” ìƒíƒœì¸ì§€
    let reacted = false;              // ì´ë¯¸ ë°˜ì‘í–ˆëŠ”ì§€ ì—¬ë¶€

    // ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì‹œ í…ŒìŠ¤íŠ¸ ì‹œì‘
    startImage.addEventListener('click', () => {
      startImage.style.display = 'none';
      cueSound.play();

      isWaitingForReaction = false;
      reacted = false;

      cueSound.onended = () => {
        setTimeout(() => {
          reactionButton.style.display = 'block';
          startTime = performance.now();
          isWaitingForReaction = true; // ì´ì œ ë°˜ì‘ ë²„íŠ¼ í™œì„±í™”
        }, 500);
      };
    });

    // ë°˜ì‘ ë²„íŠ¼ í´ë¦­ ì‹œ
    reactionButton.addEventListener('click', () => {
      if (!isWaitingForReaction || reacted) return;
      reacted = true;

      const reactionTime = performance.now() - startTime;
      reactionButton.style.display = 'none';

      if (reactionTime <= 250) {
        successImage.style.display = 'block';
        successSound.play();

        setTimeout(() => {
          alert(`ğŸ‰ ì„±ê³µ! ë°˜ì‘ì†ë„: ${Math.round(reactionTime)}ms`);
          location.reload();
        }, 1500);
      } else {
        failImage.style.display = 'block';
        failSound.play();

        setTimeout(() => {
          alert(`ğŸ’¥ ì‹¤íŒ¨! ë°˜ì‘ì†ë„: ${Math.round(reactionTime)}ms\n\n${getRandomFailMessage()}`);
          location.reload();
        }, 1500);
      }
    });

    // ë²„íŠ¼ ë‚˜ì˜¤ê¸° ì „ í´ë¦­ ì‹œ ì‹¤íŒ¨ ì²˜ë¦¬
    document.body.addEventListener('click', (e) => {
      if (
        !isWaitingForReaction &&
        !reacted &&
        startImage.style.display === 'none' &&
        e.target !== reactionButton &&
        e.target !== startImage
      ) {
        reacted = true;
        failImage.style.display = 'block';
        failSound.play();

        setTimeout(() => {
          alert(`ğŸ’¥ ì‹¤íŒ¨! ë°˜ì‘ ë²„íŠ¼ì´ ë‚˜ì˜¤ê¸° ì „ì— ëˆ„ë¥´ì…¨ìŠµë‹ˆë‹¤!\n\n${getRandomFailMessage()}`);
          location.reload();
        }, 1500);
      }
    });
  </script>

</body>
</html>
